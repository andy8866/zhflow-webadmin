{
  "type": "page",
  "title": "流程模型",
  "body": [
    {
      "type": "crud",
      "id": "u:b97a31d176bc",
      "syncLocation": false,
      "api": {
        "method": "get",
        "url": "/api/admin/processModel/getList?asTemplate=0",
        "messages": {
        }
      },
      "columns": [
        {
          "name": "id",
          "label": "id",
          "type": "text",
          "id": "u:9f2a7afcffac",
          "placeholder": "-",
          "width": 300
        },
        {
          "type": "text",
          "label": "名称",
          "name": "name",
          "id": "u:665fe9a6a890"
        },
        {
          "type": "date",
          "label": "创建时间",
          "name": "createTime",
          "id": "u:911d188c0041"
        },
        {
          "type": "operation",
          "label": "操作",
          "buttons": [
            {
              "type": "button",
              "label": "删除",
              "actionType": "ajax",
              "level": "link",
              "className": "text-danger",
              "confirmText": "确定要删除？",
              "api": {
                "method": "get",
                "url": "/api/admin/processModel/del?id=${id}"
              },
              "id": "u:309f213d64a4",
              "onEvent": {
                "click": {
                  "weight": 0,
                  "actions": [
                  ]
                }
              }
            },
            {
              "label": "编辑",
              "type": "button",
              "actionType": "dialog",
              "level": "link",
              "dialog": {
                "type": "dialog",
                "title": "编辑",
                "body": [
                  {
                    "type": "form",
                    "api": "post:/api/admin/processModel/save",
                    "body": [
                      {
                        "name": "id",
                        "label": "id",
                        "type": "input-text",
                        "id": "u:9e3ef8bb07b0",
                        "hidden": true
                      },
                      {
                        "name": "asTemplate",
                        "label": "是否为模板",
                        "type": "input-text",
                        "id": "u:432f91c4cab7",
                        "hidden": true,
                        "value": "0"
                      },
                      {
                        "name": "name",
                        "label": "名称",
                        "type": "input-text",
                        "id": "u:cbcc8adbd05b"
                      }
                    ],
                    "id": "u:f1a91c4986e1"
                  }
                ],
                "id": "u:8f5874fa33a2"
              },
              "id": "u:b3c09a12a105"
            },
            {
              "label": "编辑流程模型",
              "type": "button",
              "level": "link",
              "dialog": {
                "type": "dialog",
                "title": "编辑",
                "body": [
                  {
                    "type": "form",
                    "api": "/api/admin/processModel/save",
                    "body": [
                      {
                        "name": "id",
                        "label": "id",
                        "type": "input-text",
                        "id": "u:f8975d76cfb4",
                        "hidden": true
                      },
                      {
                        "name": "name",
                        "label": "名称",
                        "type": "input-text",
                        "id": "u:b0f1e821f3a3"
                      }
                    ],
                    "id": "u:54774f9fc13f"
                  }
                ],
                "id": "u:0e3d47988499"
              },
              "id": "u:01d5614d6194",
              "actionType": "",
              "onEvent": {
                "click": {
                  "weight": 0,
                  "actions": [
                    {
                      "args": {
                        "params": [
                        ],
                        "url": "$proccessDesignerUrl/?id=${id}&&token=$token"
                      },
                      "actionType": "url"
                    }
                  ]
                }
              }
            },
            {
              "type": "button",
              "label": "部署",
              "actionType": "",
              "level": "link",
              "className": "",
              "confirmText": "",
              "api": "get:/api/admin/processModel/deploymentFlow?id=${id}",
              "id": "u:54af0732fc5c",
              "onEvent": {
                "click": {
                  "weight": 0,
                  "actions": [
                    {
                      "args": {
                        "options": {
                        },
                        "api": {
                          "url": "/api/admin/processModel/deploymentFlow?id=${id}",
                          "method": "get",
                          "messages": {
                            "success": "部署成功"
                          },
                          "dataType": "json"
                        }
                      },
                      "outputVar": "responseResult",
                      "actionType": "ajax"
                    }
                  ]
                }
              },
              "feedback": ""
            }
          ],
          "id": "u:3faed6044f7c",
          "placeholder": "-",
          "quickEdit": false
        }
      ],
      "bulkActions": [
      ],
      "itemActions": [
      ],
      "features": [
        "filter",
        "create",
        "delete",
        "update"
      ],
      "filterColumnCount": 3,
      "perPageAvailable": [
        10,
        20,
        50
      ],
      "messages": {
      },
      "perPage": 10,
      "keepItemSelectionOnPageChange": false,
      "footerToolbar": [
        {
          "type": "statistics"
        },
        {
          "type": "switch-per-page",
          "tpl": "内容",
          "id": "u:f00cdfc70c8b"
        },
        {
          "type": "pagination"
        }
      ],
      "headerToolbar": [
        {
          "label": "新增",
          "type": "button",
          "actionType": "dialog",
          "level": "primary",
          "dialog": {
            "type": "dialog",
            "title": "新增",
            "body": [
              {
                "type": "form",
                "api": {
                  "method": "post",
                  "url": "/api/admin/processModel/save",
                  "messages": {
                  }
                },
                "body": [
                  {
                    "type": "input-text",
                    "name": "asTemplate",
                    "label": "是否为模板",
                    "id": "u:78c0285962ab",
                    "value": "0",
                    "hidden": true
                  },
                  {
                    "type": "input-text",
                    "name": "name",
                    "label": "名称",
                    "id": "u:25f93c5edd7c"
                  }
                ],
                "id": "u:67a5b770e87b"
              }
            ],
            "id": "u:458df155597c"
          },
          "id": "u:6be6b8947b14"
        },
        "bulkActions"
      ]
    }
  ],
  "id": "u:3f9ab6253d4e",
  "pullRefresh": {
    "disabled": true
  },
  "regions": [
    "body"
  ]
}